{"ast":null,"code":"var _jsxFileName = \"/Users/anaghasethuraman/Desktop/CMPE273-UberEats-Lab3/Frontend/src/components/Profile/CustomerEditProfile.js\";\n// import React, { Component } from 'react';\nimport React, { Component } from 'react'; // import { Redirect } from 'react-router';\n// import cookie from 'react-cookies';\n\nimport { Modal } from 'react-bootstrap';\nimport axios from 'axios';\nimport { Button, Input } from 'reactstrap';\nimport backendServer from \"../../webConfig\";\nimport { CountryDropdown } from 'react-country-region-selector';\nimport validator from 'validator';\n\nclass CustomerEditProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sendRestAPI = data => {\n      console.log(\"here\"); // axios.defaults.headers.common.authorization = localStorage.getItem('token');\n\n      axios.post(`${backendServer}/editcustomer`, data).then(res => {\n        console.log(\"edit details\"); // console.log(res.data);\n\n        if (res.data.message) {\n          this.setState({\n            message: res.data.message\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      }); // const {history} = this.props;\n      // history.push('/customerprofile'); \n    };\n\n    this.validateProfile = () => {\n      let isValid = true;\n\n      if (this.state.customerDetails.email === null || this.nullOrEmpty(this.state.customerDetails.about) || this.nullOrEmpty(this.state.customerDetails.username) || this.nullOrEmpty(this.state.customerDetails.phone) || this.nullOrEmpty(this.state.customerDetails.dob) || this.nullOrEmpty(this.state.customerDetails.nickname) || this.nullOrEmpty(this.state.customerDetails.address) || this.nullOrEmpty(this.state.customerDetails.state) || this.nullOrEmpty(this.state.customerDetails.city) || this.nullOrEmpty(this.state.customerDetails.country)) {\n        alert(\"Fields cannot be empty\");\n        isValid = false;\n      } else {\n        if (!validator.isEmail(this.state.customerDetails.email)) {\n          alert('Enter valid Email!');\n          isValid = false;\n        } // if(this.state.customerDetails.phone.match(/\\d/g).length !== 10){\n        //   alert('Phone number should only be 10 numbers!')\n        //   isValid = false;\n        // }\n\n      }\n\n      return isValid;\n    };\n\n    this.handleChangeName = e => {\n      const {\n        customerDetails\n      } = this.state;\n      customerDetails.username = e.target.value;\n      this.setState({\n        customerDetails\n      });\n    };\n\n    this.handleChangenickame = e => {\n      const {\n        customerDetails\n      } = this.state;\n      customerDetails.nickname = e.target.value;\n      this.setState({\n        customerDetails\n      });\n    };\n\n    this.handleChangeabout = e => {\n      const {\n        customerDetails\n      } = this.state;\n      customerDetails.about = e.target.value;\n      this.setState({\n        customerDetails\n      });\n    };\n\n    this.handleChangeemail = e => {\n      const {\n        customerDetails\n      } = this.state;\n      customerDetails.email = e.target.value;\n      this.setState({\n        customerDetails\n      });\n    };\n\n    this.handleChangephone = e => {\n      const {\n        customerDetails\n      } = this.state;\n      customerDetails.phone = e.target.value;\n      this.setState({\n        customerDetails\n      });\n    };\n\n    this.handleChangedob = e => {\n      const {\n        customerDetails\n      } = this.state;\n      customerDetails.dob = e.target.value;\n      this.setState({\n        customerDetails\n      });\n    };\n\n    this.handleChangeaddress = e => {\n      const {\n        customerDetails\n      } = this.state;\n      customerDetails.address = e.target.value;\n      this.setState({\n        customerDetails\n      });\n    };\n\n    this.handleChangecity = e => {\n      const {\n        customerDetails\n      } = this.state;\n      customerDetails.city = e.target.value;\n      this.setState({\n        customerDetails\n      });\n    };\n\n    this.handleChangestate = e => {\n      const {\n        customerDetails\n      } = this.state;\n      customerDetails.state = e.target.value;\n      this.setState({\n        customerDetails\n      });\n    };\n\n    this.handleChangeCountry = val => {\n      const {\n        customerDetails\n      } = this.state;\n      customerDetails.country = val;\n      this.setState({\n        customerDetails\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (this.validateProfile() === true) {\n        const customerData = {\n          userid: this.state.customerDetails.userid,\n          username: this.state.customerDetails.username,\n          email: this.state.customerDetails.email,\n          about: this.state.customerDetails.about,\n          phone: this.state.customerDetails.phone,\n          nickname: this.state.customerDetails.nickname,\n          dob: this.state.customerDetails.dob,\n          state: this.state.customerDetails.state,\n          city: this.state.customerDetails.city,\n          address: this.state.customerDetails.address,\n          country: this.state.customerDetails.country\n        };\n        console.log(customerData);\n        localStorage.setItem(\"username\", this.state.customerDetails.username);\n        this.sendRestAPI(customerData);\n        this.setState({\n          show: true\n        });\n      }\n    };\n\n    this.goback = e => {\n      e.preventDefault();\n      const {\n        history\n      } = this.props;\n      history.push('/customerprofile');\n    };\n\n    this.saveFile = e => {\n      e.preventDefault();\n      this.setState({\n        file: e.target.files[0]\n      });\n      this.setState({\n        fileName: e.target.files[0].name\n      });\n    };\n\n    this.uploadFile = e => {\n      e.preventDefault();\n      console.log(\"*****\");\n      console.log(this.state.file);\n      console.log(\"*****\");\n      const formData = new FormData(); // formData.append(\"file\", this.state.file,this.state.fileName);\n      // formData.append(\"userid\", this.state.customerDetails.userid);\n\n      if (this.state.file !== undefined && this.state.fileName !== undefined) {\n        formData.append(\"file\", this.state.file, this.state.fileName);\n        formData.append(\"userid\", this.state.customerDetails.userid);\n      } else {\n        alert(\"No Image inserted\");\n        return;\n      }\n\n      this.sendImageAPI(formData);\n    };\n\n    this.sendImageAPI = data => {\n      axios.post(`${backendServer}/images`, data).then(response => {\n        if (response.status === 200) {\n          var data1 = {\n            userid: localStorage.getItem(\"userid\"),\n            profileImg: response.data.imagePath,\n            usertype: \"Customer\"\n          };\n          axios.post(`${backendServer}/uploadProfilePic`, data1).then(response1 => {\n            console.log(response1.data);\n          });\n        }\n      });\n    };\n\n    this.state = {\n      customerDetails: JSON.parse(localStorage.getItem(\"CustomerDetails\")),\n      userid: null,\n      profilepic: null,\n      loading: false,\n      output: null\n    }; // this.state.email = localStorage.getItem(\"email\");\n    // this.state.username = localStorage.getItem(\"username\");\n  }\n\n  nullOrEmpty(str) {\n    return str === null || str === \"\" || str === \"Add\";\n  }\n\n  handleModalClose() {\n    this.setState({\n      show: !this.state.show\n    });\n    const {\n      history\n    } = this.props;\n    history.push('/customerprofile');\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    }, \"Customer Profile\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 15\n      }\n    }, \"Profile pic:\", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"filefolder\",\n      type: \"file\",\n      onChange: this.saveFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.uploadFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 15\n      }\n    }, \"Upload\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.goback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 15\n      }\n    }, \"Go Back\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 15\n      }\n    }, \"Customer Name: \", /*#__PURE__*/React.createElement(Input, {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"username\",\n      value: this.state.customerDetails.username,\n      onChange: e => {\n        this.handleChangeName(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 30\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 15\n      }\n    }, \"Nick Name: \", /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"nickname\",\n      value: this.state.customerDetails.nickname,\n      onChange: e => {\n        this.handleChangenickame(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 26\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 15\n      }\n    }, \"About : \", /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"about\",\n      defaultValue: this.state.customerDetails.about,\n      onChange: e => {\n        this.handleChangeabout(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 15\n      }\n    }, \"Email:\", /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"email\",\n      value: this.state.customerDetails.email,\n      onChange: e => {\n        this.handleChangeemail(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 15\n      }\n    }, \"Phone: \", /*#__PURE__*/React.createElement(Input, {\n      type: \"number\",\n      className: \"form-control\",\n      name: \"phone\",\n      defaultValue: this.state.customerDetails.phone,\n      onChange: e => {\n        this.handleChangephone(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 15\n      }\n    }, \"DoB: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      className: \"form-date\",\n      name: \"dob\",\n      defaultValue: this.state.customerDetails.dob,\n      onChange: e => {\n        this.handleChangedob(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 20\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 15\n      }\n    }, \"Apt and Street No: \", /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"address\",\n      defaultValue: this.state.customerDetails.address,\n      onChange: e => {\n        this.handleChangeaddress(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 34\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 15\n      }\n    }, \"City: \", /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"city\",\n      defaultValue: this.state.customerDetails.city,\n      onChange: e => {\n        this.handleChangecity(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 15\n      }\n    }, \"State: \", /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"state\",\n      defaultValue: this.state.customerDetails.state,\n      onChange: e => {\n        this.handleChangestate(e);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 15\n      }\n    }, \"Country :\", /*#__PURE__*/React.createElement(CountryDropdown, {\n      className: \"form-control\",\n      value: this.state.customerDetails.country,\n      onChange: val => {\n        this.handleChangeCountry(val);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 15\n      }\n    }, \"Update Profile\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.goback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 15\n      }\n    }, \"Back\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      size: \"md-down\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      show: this.state.show,\n      onHide: () => this.handleModalClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 29\n      }\n    }, \"Profile Updated Successfully!\")))))));\n  }\n\n}\n\nexport default CustomerEditProfile;","map":{"version":3,"sources":["/Users/anaghasethuraman/Desktop/CMPE273-UberEats-Lab3/Frontend/src/components/Profile/CustomerEditProfile.js"],"names":["React","Component","Modal","axios","Button","Input","backendServer","CountryDropdown","validator","CustomerEditProfile","constructor","props","sendRestAPI","data","console","log","post","then","res","message","setState","catch","error","validateProfile","isValid","state","customerDetails","email","nullOrEmpty","about","username","phone","dob","nickname","address","city","country","alert","isEmail","handleChangeName","e","target","value","handleChangenickame","handleChangeabout","handleChangeemail","handleChangephone","handleChangedob","handleChangeaddress","handleChangecity","handleChangestate","handleChangeCountry","val","handleSubmit","preventDefault","customerData","userid","localStorage","setItem","show","goback","history","push","saveFile","file","files","fileName","name","uploadFile","formData","FormData","undefined","append","sendImageAPI","response","status","data1","getItem","profileImg","imagePath","usertype","response1","JSON","parse","profilepic","loading","output","str","handleModalClose","render"],"mappings":"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","sourcesContent":["// import React, { Component } from 'react';\n\nimport React, {Component} from 'react';\n// import { Redirect } from 'react-router';\n// import cookie from 'react-cookies';\nimport {Modal} from 'react-bootstrap';\nimport axios from 'axios';\nimport { Button,Input } from 'reactstrap';\nimport backendServer from \"../../webConfig\";\nimport { CountryDropdown } from 'react-country-region-selector';\nimport validator from 'validator';\nclass CustomerEditProfile extends Component {\n    \n    constructor(props){\n        super(props);\n  \n        this.state = {\n            customerDetails:JSON.parse(localStorage.getItem(\"CustomerDetails\")) ,\n            userid:null,\n            profilepic:null,\n            loading: false,\n            output: null\n        }\n        // this.state.email = localStorage.getItem(\"email\");\n        // this.state.username = localStorage.getItem(\"username\");\n        \n      }\n      sendRestAPI = (data) => {\n        console.log(\"here\")\n       // axios.defaults.headers.common.authorization = localStorage.getItem('token');\n        axios.post(`${backendServer}/editcustomer`, data)\n            .then(res => {\n               console.log(\"edit details\");\n              // console.log(res.data);\n                if(res.data.message){\n                    this.setState({message:res.data.message})\n                }\n                \n            }).catch(\n                (error) => {\n                  console.log(error);\n                }\n            );\n            // const {history} = this.props;\n            // history.push('/customerprofile'); \n    }\n  \n\n    nullOrEmpty(str) {\n        return str === null || str === \"\" || str === \"Add\"\n    }\n\n\n    validateProfile = () => {\n           let isValid = true;\n           if(this.state.customerDetails.email === null ||\n                this.nullOrEmpty(this.state.customerDetails.about) ||\n                this.nullOrEmpty(this.state.customerDetails.username) ||  this.nullOrEmpty(this.state.customerDetails.phone)\n                ||  this.nullOrEmpty(this.state.customerDetails.dob) ||  this.nullOrEmpty(this.state.customerDetails.nickname) \n                ||  this.nullOrEmpty(this.state.customerDetails.address) ||  this.nullOrEmpty(this.state.customerDetails.state)\n                ||  this.nullOrEmpty(this.state.customerDetails.city) ||  this.nullOrEmpty(this.state.customerDetails.country))\n            {\n              alert(\"Fields cannot be empty\");\n              isValid = false;\n            }\n            else\n              {\n                if (!validator.isEmail(this.state.customerDetails.email)) {\n                alert('Enter valid Email!')\n                isValid = false;\n                }\n                // if(this.state.customerDetails.phone.match(/\\d/g).length !== 10){\n                //   alert('Phone number should only be 10 numbers!')\n                //   isValid = false;\n                // }\n            } \n        \n        return isValid;\n     }\n     handleChangeName = (e) =>{\n      const { customerDetails }= this.state;\n      customerDetails.username = e.target.value;\n      this.setState({customerDetails});\n      \n    } \n    handleChangenickame = (e) =>{\n      const { customerDetails }= this.state;\n      customerDetails.nickname = e.target.value;\n      this.setState({customerDetails});\n      \n    } \n    handleChangeabout = (e) =>{\n      const { customerDetails }= this.state;\n      customerDetails.about = e.target.value;\n      this.setState({customerDetails});\n      \n    } \n    handleChangeemail = (e) =>{\n      const { customerDetails }= this.state;\n      customerDetails.email = e.target.value;\n      this.setState({customerDetails});\n      \n    } \n    handleChangephone = (e) =>{\n      const { customerDetails }= this.state;\n      customerDetails.phone = e.target.value;\n      this.setState({customerDetails});\n      \n    } \n    handleChangedob = (e) =>{\n      const { customerDetails }= this.state;\n      customerDetails.dob = e.target.value;\n      this.setState({customerDetails}); \n    } \n    handleChangeaddress = (e) =>{\n      const { customerDetails }= this.state;\n      customerDetails.address = e.target.value;\n      this.setState({customerDetails}); \n    } \n    handleChangecity = (e) =>{\n      const { customerDetails }= this.state;\n      customerDetails.city = e.target.value;\n      this.setState({customerDetails}); \n    } \n    handleChangestate = (e) =>{\n      const { customerDetails }= this.state;\n      customerDetails.state = e.target.value;\n      this.setState({customerDetails}); \n    } \n    handleChangeCountry = (val) =>{\n      const { customerDetails }= this.state;\n      customerDetails.country = val;\n      this.setState({customerDetails}); \n    } \n\n      handleSubmit = (e) => {\n        e.preventDefault();\n        \n        \n         if (this.validateProfile() === true){\n              const customerData = {\n              userid:this.state.customerDetails.userid,\n              username: this.state.customerDetails.username,\n              email:this.state.customerDetails.email ,\n              about: this.state.customerDetails.about,\n              phone:this.state.customerDetails.phone,\n              nickname:this.state.customerDetails.nickname,\n              dob:this.state.customerDetails.dob,\n              state:this.state.customerDetails.state,\n              city:this.state.customerDetails.city,\n              address:this.state.customerDetails.address,\n              country:this.state.customerDetails.country,\n              \n          }\n          \n        console.log(customerData)\n        localStorage.setItem(\"username\",this.state.customerDetails.username);\n        this.sendRestAPI(customerData);\n        \n        this.setState({\n          show : true \n        });\n         }        \n      \n    }\n \n      // goback = (e) =>{\n      //   e.preventDefault();\n      //   const {history} = this.props;\n      //   history.push('/customerprofile'); \n      // }\n      // handleChange = (e) => {\n      //   this.setState({ [e.target.name]: e.target.value });\n      //   }\n        goback = (e) =>{\n          \n          e.preventDefault();\n          const {history} = this.props;\n          history.push('/customerprofile'); \n        }\n        saveFile = (e) => {\n          e.preventDefault();\n          this.setState({file:e.target.files[0]});\n          this.setState({fileName:e.target.files[0].name});\n        };\n        handleModalClose(){\n          this.setState({show:!this.state.show}) \n          const {history} = this.props;\n          history.push('/customerprofile'); \n      }\n        uploadFile = (e) => {\n          e.preventDefault();\n          console.log(\"*****\")\n          console.log(this.state.file)\n          console.log(\"*****\")\n          const formData = new FormData();\n          // formData.append(\"file\", this.state.file,this.state.fileName);\n          // formData.append(\"userid\", this.state.customerDetails.userid);\n          if(this.state.file !== undefined && this.state.fileName !== undefined){\n            formData.append(\"file\", this.state.file,this.state.fileName);\n            formData.append(\"userid\", this.state.customerDetails.userid);\n            \n          }\n          \n          else{\n            alert(\"No Image inserted\");\n            return;\n          }\n         \n         this.sendImageAPI(formData);        \n        }\n        sendImageAPI = (data) => {\n          axios.post( `${backendServer}/images`, data)\n              .then(response => {\n                if(response.status === 200){\n                  var data1 = {\n                    userid : localStorage.getItem(\"userid\"),\n                    profileImg : response.data.imagePath,\n                    usertype:\"Customer\"\n                  }\n                  axios.post( `${backendServer}/uploadProfilePic`, data1)\n                  .then(response1 =>{\n                    console.log(response1.data)\n                  })\n                }\n              })\n            }\n     \n    render(){\n\n    return (\n     \n         <div className=\"container\">\n          <div className=\"login-form\">\n            <div className=\"main-div\">\n              <div className=\"panel\">\n                <h2>Customer Profile</h2>\n\n              </div>\n\n              <div className=\"form-group\">\n\n              Profile pic:\n              <input className=\"filefolder\" type=\"file\" onChange={this.saveFile} />\n              <button onClick={this.uploadFile}>Upload</button>  \n              <Button onClick = {this.goback}>Go Back</Button>\n             \n              </div>\n              <div className=\"form-group\">\n\n              Customer Name: <Input className=\"form-control\" type=\"text\" name=\"username\" value={this.state.customerDetails.username} onChange={(e) => { this.handleChangeName(e)}} ></Input>\n               \n              </div>\n              <div className=\"form-group\">\n              Nick Name: <Input type=\"text\" className=\"form-control\" name=\"nickname\" value={this.state.customerDetails.nickname} onChange={(e) => { this.handleChangenickame(e)}} ></Input>\n              </div>\n              <div className=\"form-group\">\n              About : <textarea type=\"text\" className=\"form-control\" name=\"about\" defaultValue={this.state.customerDetails.about} onChange={(e) => { this.handleChangeabout(e)}}/>\n              </div>\n              <div className=\"form-group\">\n              Email:<Input type=\"text\" className=\"form-control\" name=\"email\" value= {this.state.customerDetails.email} onChange={(e) => { this.handleChangeemail(e)}} />\n              </div>\n              <div className=\"form-group\">\n              Phone: <Input type=\"number\" className=\"form-control\" name=\"phone\" defaultValue={this.state.customerDetails.phone} onChange={(e) => { this.handleChangephone(e)}} ></Input>\n              </div>\n              <div className=\"form-group\">\n              DoB: <input type=\"date\" className=\"form-date\" name=\"dob\" defaultValue={this.state.customerDetails.dob} onChange={(e) => { this.handleChangedob(e)}} />\n              </div>\n              <div className=\"form-group\">\n              Apt and Street No: <Input type=\"text\" className=\"form-control\" name=\"address\" defaultValue={this.state.customerDetails.address} onChange={(e) => { this.handleChangeaddress(e)}} ></Input>\n              </div>\n              <div className=\"form-group\">\n              City: <Input type=\"text\" className=\"form-control\" name=\"city\" defaultValue={this.state.customerDetails.city} onChange={(e) => { this.handleChangecity(e)}} ></Input>\n              </div>\n              <div className=\"form-group\">\n              State: <Input type=\"text\" className=\"form-control\" name=\"state\" defaultValue={this.state.customerDetails.state} onChange={(e) => { this.handleChangestate(e)}} ></Input>\n              </div>\n             \n              <div className=\"form-group\">\n              Country :\n              <CountryDropdown className=\"form-control\"\n                    value={this.state.customerDetails.country}\n                    onChange={(val) => { this.handleChangeCountry(val)}}\n                     \n                  />\n\n             \n              </div>\n             \n              <Button onClick = {this.handleSubmit}>Update Profile</Button>\n\n              <Button onClick = {this.goback}>Back</Button>\n              <div>\n               <Modal size=\"md-down\"\n                    aria-labelledby=\"contained-modal-title-vcenter\"\n                    centered\n                    show={this.state.show} onHide={()=>this.handleModalClose()}>\n                        <Modal.Header closeButton></Modal.Header>\n                        <Modal.Body>\n                            <h1>Profile Updated Successfully!</h1>\n                        </Modal.Body>\n                    </Modal>\n                </div>\n            </div>\n          </div>\n        </div>\n    )\n    }\n   \n}\n \nexport default CustomerEditProfile;"]},"metadata":{},"sourceType":"module"}