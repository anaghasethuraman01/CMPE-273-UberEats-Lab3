{"ast":null,"code":"var _jsxFileName = \"/Users/anaghasethuraman/Desktop/CMPE273-UberEats-Lab3/Frontend/src/components/Menu/AddRestaurantMenu.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; // import cookie from 'react-cookies';\n\nimport { Button, Input } from 'reactstrap';\nimport { Modal } from 'react-bootstrap';\nimport backendServer from \"../../webConfig\";\n\nclass AddRestaurantMenu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sendDishAPI = data => {\n      localStorage.setItem(\"dishname\", data.dishname); // axios.defaults.headers.common.authorization = localStorage.getItem('token');\n\n      axios.post(`${backendServer}/restaurantdish`, data).then(res => {\n        console.log(res.data);\n        this.setState({\n          dishid: res.data._id\n        }); //     if(res.data.message){\n        //         this.setState({message:res.data.message})\n        //     }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.handleChange = e => {\n      e.preventDefault();\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n      console.log(this.state);\n    };\n\n    this.validateDish = () => {\n      let isValid = true;\n\n      if (this.nullOrEmpty(this.state.dishname) || this.nullOrEmpty(this.state.ingrediants) || this.nullOrEmpty(this.state.price) || this.nullOrEmpty(this.state.description) || this.nullOrEmpty(this.state.category) || this.nullOrEmpty(this.state.foodtype)) {\n        alert(\"Fields cannot be empty\");\n        isValid = false;\n      }\n\n      return isValid;\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (this.validateDish() === true) {\n        const dishData = {\n          restaurantid: localStorage.getItem(\"restaurantid\"),\n          dishname: this.state.dishname,\n          ingrediants: this.state.ingrediants,\n          price: this.state.price,\n          description: this.state.description,\n          category: this.state.category,\n          foodtype: this.state.foodtype\n        };\n        this.sendDishAPI(dishData);\n        this.setState({\n          show: true\n        });\n      }\n    };\n\n    this.goback = () => {\n      // e.preventDefault();\n      const {\n        history\n      } = this.props;\n      history.push('/restauranthome');\n    };\n\n    this.saveFile = e => {\n      e.preventDefault();\n      this.setState({\n        file: e.target.files[0]\n      });\n      this.setState({\n        fileName: e.target.files[0].name\n      });\n    };\n\n    this.uploadFile = e => {\n      e.preventDefault();\n      console.log(localStorage.getItem(\"restaurantid\"));\n      const formData = new FormData();\n\n      if (this.state.file !== undefined && this.state.fileName !== undefined) {\n        formData.append(\"file\", this.state.file, this.state.fileName);\n        formData.append(\"restaurantid\", localStorage.getItem(\"restaurantid\"));\n        formData.append(\"dishname\", localStorage.getItem(\"dishname\"));\n      } else {\n        alert(\"No Image inserted\");\n        return;\n      } // console.log(customerData);\n\n\n      this.sendImageAPI(formData);\n      this.setState({\n        showdish: true\n      });\n    };\n\n    this.sendImageAPI = data => {\n      axios.post(`${backendServer}/images`, data).then(response => {\n        if (response.status === 200) {\n          var data1 = {\n            userid: this.state.dishid,\n            profileImg: response.data.imagePath,\n            usertype: \"Dish\"\n          };\n          axios.post(`${backendServer}/uploadProfilePic`, data1).then(response1 => {\n            console.log(response1.data);\n          });\n        }\n      });\n    };\n\n    this.state = {\n      restaurantid: null,\n      dishname: null,\n      ingrediants: null,\n      price: null,\n      description: null,\n      category: null,\n      foodtype: null,\n      show: false,\n      showdish: false,\n      dishid: ''\n    };\n  }\n\n  // logout = e => {\n  //   e.preventDefault();\n  //   window.localStorage.clear();\n  //   const {history} = this.props;\n  //   history.push('/login'); \n  // }\n  nullOrEmpty(str) {\n    return str === null || str === \"\";\n  }\n\n  // sendImageAPI = (data) => {\n  //   axios.post( `${backendServer}/dishimageupload`, data)\n  //       .then(res => {\n  //       console.log(res.data);\n  //         //  this.setState({profilepic:res.data});\n  //         // localStorage.setItem(\"profilepic\",res.data);\n  //        // console.log(this.state.profilepic);\n  //       })\n  //     }\n  handleModalClose() {\n    this.setState({\n      show: !this.state.show\n    });\n  }\n\n  handleModalCloseDish() {\n    this.setState({\n      showdish: !this.state.showdish\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    }, \"Dish Details\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }\n    }, \"Dish Name: \", /*#__PURE__*/React.createElement(Input, {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"dishname\",\n      defaultValue: this.state.dishname,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, \"Ingredients: \", /*#__PURE__*/React.createElement(Input, {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"ingrediants\",\n      defaultValue: this.state.ingrediants,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 24\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }\n    }, \"Price: \", /*#__PURE__*/React.createElement(Input, {\n      className: \"form-control\",\n      type: \"number\",\n      name: \"price\",\n      defaultValue: this.state.price,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 18\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, \"Description: \", /*#__PURE__*/React.createElement(Input, {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"description\",\n      defaultValue: this.state.description,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 24\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }, \"Category:\", /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"category\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 23\n      }\n    }, \"Category\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Appetizer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 23\n      }\n    }, \"Appetizer\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"salads\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 23\n      }\n    }, \"Salads\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Main Course\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 23\n      }\n    }, \"Main Course\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Desserts\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 23\n      }\n    }, \"Desserts\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Beverages\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 23\n      }\n    }, \"Beverages\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }\n    }, \"Food Type :\", /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"foodtype\",\n      name: \"foodtype\",\n      value: this.state.foodtype,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 15\n      }\n    }, \"Select food type\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Veg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }, \"Veg\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Non-veg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 15\n      }\n    }, \"Non-veg\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Vegan\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 15\n      }\n    }, \"Vegan\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }\n    }, \"Add new Dish\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      className: \"filefolder\",\n      type: \"file\",\n      onChange: this.saveFile,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.uploadFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }, \"Upload Dish Image\")), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.goback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }\n    }, \"Back\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      size: \"md-down\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      show: this.state.show,\n      onHide: () => this.handleModalClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 29\n      }\n    }, \"Dish Added Successfully!\")))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      size: \"md-down\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      show: this.state.showdish,\n      onHide: () => this.handleModalCloseDish(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 29\n      }\n    }, \"Dish Image Added Successfully!\")))))));\n  }\n\n}\n\nexport default AddRestaurantMenu;","map":{"version":3,"sources":["/Users/anaghasethuraman/Desktop/CMPE273-UberEats-Lab3/Frontend/src/components/Menu/AddRestaurantMenu.js"],"names":["React","Component","axios","Button","Input","Modal","backendServer","AddRestaurantMenu","constructor","props","sendDishAPI","data","localStorage","setItem","dishname","post","then","res","console","log","setState","dishid","_id","catch","error","handleChange","e","preventDefault","target","name","value","state","validateDish","isValid","nullOrEmpty","ingrediants","price","description","category","foodtype","alert","handleSubmit","dishData","restaurantid","getItem","show","goback","history","push","saveFile","file","files","fileName","uploadFile","formData","FormData","undefined","append","sendImageAPI","showdish","response","status","data1","userid","profileImg","imagePath","usertype","response1","str","handleModalClose","handleModalCloseDish","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\n// import cookie from 'react-cookies';\nimport { Button, Input } from 'reactstrap';\nimport {Modal} from 'react-bootstrap';\nimport backendServer from \"../../webConfig\";\n\nclass AddRestaurantMenu extends Component {\n    \n    constructor(props){\n        super(props);\n  \n        this.state = {\n          restaurantid:null,\n          dishname:null,\n          ingrediants:null,\n          price:null,\n          description:null,\n          category:null,\n          foodtype:null,\n          show:false,\n          showdish:false,\n          dishid:''\n        }\n      }\n\n      sendDishAPI = (data) => {\n        localStorage.setItem(\"dishname\",data.dishname);\n       // axios.defaults.headers.common.authorization = localStorage.getItem('token');\n          axios.post(`${backendServer}/restaurantdish`, data)\n              .then(res => {\n                console.log(res.data)\n                this.setState({dishid : res.data._id})\n              //     if(res.data.message){\n              //         this.setState({message:res.data.message})\n              //     }\n              }).catch(\n                  (error) => {\n                    console.log(error);\n                  }\n                  );\n       }\n    handleChange = (e) => {\n      e.preventDefault();\n      this.setState({ [e.target.name]: e.target.value });\n      console.log(this.state);\n  } \n  // logout = e => {\n  //   e.preventDefault();\n  //   window.localStorage.clear();\n  //   const {history} = this.props;\n  //   history.push('/login'); \n  // }\n  nullOrEmpty(str) {\n    return str === null || str === \"\" \n  }\n  validateDish = () => {\n         \n    let isValid = true;\n    if(this.nullOrEmpty(this.state.dishname) ||\n         this.nullOrEmpty(this.state.ingrediants) ||  this.nullOrEmpty(this.state.price)\n         ||  this.nullOrEmpty(this.state.description) ||  this.nullOrEmpty(this.state.category) \n         ||  this.nullOrEmpty(this.state.foodtype)){\n\n       alert(\"Fields cannot be empty\");\n       isValid = false;\n     }\n  \n    return isValid;\n  }\n      handleSubmit = (e) => {\n        e.preventDefault();\n        if (this.validateDish() === true){\n          const dishData = {\n              restaurantid:localStorage.getItem(\"restaurantid\"),\n              dishname:this.state.dishname,\n              ingrediants:this.state.ingrediants,\n              price:this.state.price,\n              description:this.state.description,\n              category:this.state.category,\n              foodtype:this.state.foodtype\n          }\n          this.sendDishAPI(dishData);\n          this.setState({\n            show : true \n          });\n        }\n        \n      }\n      goback = () =>{\n        // e.preventDefault();\n        const {history} = this.props;\n        history.push('/restauranthome'); \n      }\n      \n\n      saveFile = (e) => {\n        e.preventDefault();\n        this.setState({file:e.target.files[0]});\n        this.setState({fileName:e.target.files[0].name});\n        \n      };\n      uploadFile = (e) => {\n        e.preventDefault();\n        console.log(localStorage.getItem(\"restaurantid\"));\n        const formData = new FormData();\n        if(this.state.file !== undefined && this.state.fileName !== undefined){\n          formData.append(\"file\", this.state.file,this.state.fileName);\n          formData.append(\"restaurantid\", localStorage.getItem(\"restaurantid\"));\n          formData.append(\"dishname\",localStorage.getItem(\"dishname\"))\n        } else{\n          alert(\"No Image inserted\");\n          return;\n        } \n       // console.log(customerData);\n       this.sendImageAPI(formData);   \n       this.setState({\n        showdish : true \n      });     \n      }\n      sendImageAPI = (data) => {\n        axios.post( `${backendServer}/images`, data)\n            .then(response => {\n              if(response.status === 200){\n                var data1 = {\n                  userid : this.state.dishid,\n                  profileImg : response.data.imagePath,\n                  usertype:\"Dish\"\n                }\n                axios.post( `${backendServer}/uploadProfilePic`, data1)\n                .then(response1 =>{\n                  console.log(response1.data)\n                })\n              }\n            })\n          }\n   \n      // sendImageAPI = (data) => {\n      //   axios.post( `${backendServer}/dishimageupload`, data)\n      //       .then(res => {\n      //       console.log(res.data);\n      //         //  this.setState({profilepic:res.data});\n      //         // localStorage.setItem(\"profilepic\",res.data);\n      //        // console.log(this.state.profilepic);\n      //       })\n      //     }\n\n          handleModalClose(){\n            this.setState({show:!this.state.show}) \n        }\n        handleModalCloseDish(){\n          this.setState({showdish:!this.state.showdish}) \n      }\n    render(){\n\n    return (\n\n      <div className=\"container\">\n      <div className=\"login-form\">\n        <div className=\"main-div\">\n          <div className=\"panel\">\n          <h1>Dish Details</h1>\n\n          </div>\n\n          <div className=\"form-group\">\n          Dish Name: <Input className=\"form-control\" type=\"text\" name=\"dishname\" defaultValue={this.state.dishname} onChange={this.handleChange} required/>\n          \n          </div>\n          <div className=\"form-group\">\n\n          Ingredients: <Input className=\"form-control\" type=\"text\" name=\"ingrediants\" defaultValue={this.state.ingrediants} onChange={this.handleChange} required/>\n           \n          </div>\n          <div className=\"form-group\">\n          \n          Price: <Input className=\"form-control\" type=\"number\" name=\"price\" defaultValue={this.state.price} onChange={this.handleChange} required/>\n       \n          </div>\n          <div className=\"form-group\">\n          Description: <Input className=\"form-control\" type=\"text\" name=\"description\" defaultValue={this.state.description} onChange={this.handleChange} required/>\n          </div>\n          <div className=\"form-group\">\n          Category: \n             <select className=\"form-control\" name=\"category\" value={this.state.value} onChange={this.handleChange}>\n                      <option value=\"\">Category</option>\n                      <option value=\"Appetizer\">Appetizer</option>\n                      <option value=\"salads\">Salads</option>\n                      <option value=\"Main Course\">Main Course</option>\n                      <option value=\"Desserts\">Desserts</option>\n                      <option value=\"Beverages\">Beverages</option>\n            </select>\n          </div>\n          <div className=\"form-group\">\n              Food Type :\n              <select className=\"form-control\" name=\"foodtype\" name=\"foodtype\"  value={this.state.foodtype} onChange={this.handleChange} >\n              <option value=\"\">Select food type</option> \n              <option value=\"Veg\" >Veg</option>\n              <option value=\"Non-veg\"  >Non-veg</option>\n              <option value=\"Vegan\" >Vegan</option>\n            </select>\n          </div>\n          <div className=\"form-group\">\n          <Button onClick={this.handleSubmit}>Add new Dish</Button>\n          </div>\n          <div className=\"form-group\">\n          <Input className=\"filefolder\" type=\"file\" onChange={this.saveFile} required/>\n            <Button onClick={this.uploadFile}>Upload Dish Image</Button>\n          </div>\n          <Button onClick = {this.goback}>Back</Button>\n          <div>\n               <Modal size=\"md-down\"\n                    aria-labelledby=\"contained-modal-title-vcenter\"\n                    centered\n                    show={this.state.show} onHide={()=>this.handleModalClose()}>\n                        <Modal.Header closeButton></Modal.Header>\n                        <Modal.Body>\n                            <h1>Dish Added Successfully!</h1>\n                        </Modal.Body>\n                </Modal>\n            </div>\n            <div>\n               <Modal size=\"md-down\"\n                    aria-labelledby=\"contained-modal-title-vcenter\"\n                    centered\n                    show={this.state.showdish} onHide={()=>this.handleModalCloseDish()}>\n                        <Modal.Header closeButton></Modal.Header>\n                        <Modal.Body>\n                            <h1>Dish Image Added Successfully!</h1>\n                        </Modal.Body>\n                </Modal>\n            </div>\n            {/* <Button className=\"btn-logout\" onClick={this.logout}>Logout</Button> */}\n        </div>\n      </div>\n    </div>\n\n    )\n    }\n   \n}\n \nexport default AddRestaurantMenu;"]},"metadata":{},"sourceType":"module"}