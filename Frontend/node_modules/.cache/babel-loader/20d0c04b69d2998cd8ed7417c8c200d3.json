{"ast":null,"code":"var _jsxFileName = \"/Users/anaghasethuraman/Desktop/CMPE273-UberEats-Lab3/Frontend/src/components/Profile/CustomerProfile.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'reactstrap';\nimport backendServer from \"../../webConfig\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { userProfile } from \"../../actions/profileActions\";\n\nclass CustomerProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = customerObj => {\n      localStorage.setItem(\"CustomerDetails\", JSON.stringify(customerObj));\n      const {\n        history\n      } = this.props;\n      history.push('/customereditprofile');\n    };\n\n    this.findFood = e => {\n      e.preventDefault();\n      window.location.href = '/RestDashboard';\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.goback = e => {\n      e.preventDefault();\n      const {\n        history\n      } = this.props;\n      history.push('/customerhome');\n    };\n\n    this.saveFile = e => {\n      e.preventDefault();\n      this.setState({\n        file: e.target.files[0]\n      });\n      this.setState({\n        fileName: e.target.files[0].name\n      });\n    };\n\n    this.state = {\n      customerdetails: []\n    }; // this.state = {\n    //   userid: localStorage.getItem(\"userid\"),\n    //   username: localStorage.getItem(\"username\"),\n    //   email:localStorage.getItem(\"email\"),\n    //   phone: localStorage.getItem(\"phone\"),\n    //   dob:localStorage.getItem(\"dob\"),\n    //   address:localStorage.getItem(\"address\"),\n    //   state:localStorage.getItem(\"state\"),\n    //   city:localStorage.getItem(\"city\"),\n    //   country:localStorage.getItem(\"country\"),\n    //   nickname:localStorage.getItem(\"nickname\"),\n    //   about:localStorage.getItem(\"about\"),\n    //   profilepic:localStorage.getItem(\"profilepic\"),\n    //   favourites:null,\n    //   loading: false,\n    //   output: null,\n    //   customerdetails:[]\n    // }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    const customerid = {\n      userid: localStorage.getItem(\"userid\")\n    };\n    this.props.userProfile(customerid);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.profile) {\n      var {\n        profile\n      } = nextProps;\n      var userData = {\n        userid: profile._id || this.state.userid,\n        username: profile.username || this.state.username,\n        email: profile.email || this.state.email,\n        about: profile.about || this.state.about,\n        phone: profile.phone || this.state.phone,\n        city: profile.city || this.state.city,\n        address: profile.address || this.state.address,\n        state: profile.state || this.state.state,\n        country: profile.country || this.state.country,\n        nickname: profile.nickname || this.state.nickname,\n        dob: profile.dob || this.state.dob,\n        profilepic: profile.profilepic || this.state.profilepic\n      };\n      this.setState({\n        customerdetails: userData\n      });\n      localStorage.setItem(\"city\", profile.city);\n      localStorage.setItem(\"profilepic\", profile.profilepic);\n    }\n  } // componentWillReceiveProps(nextProps){\n  //     if(nextProps.user){\n  //       var { user } = nextProps;\n  //       console.log(user);\n  //     }\n  // }\n  // axios.post(`${backendServer}/getcustomerprofile`,customerid).then((response) => {\n  //   console.log(response.data);\n  //   //update the state with the response data\n  //   this.setState({\n  //     customerdetails: this.state.customerdetails.concat(response.data),\n  //   });\n  //   console.log(this.customerdetails)\n  //   this.setState({\n  //     username: this.state.customerdetails[0]['username'],\n  //   });\n  //   this.setState({\n  //     nickname: this.state.customerdetails[0]['nickname'],\n  //   });\n  //   this.setState({\n  //     about: this.state.customerdetails[0]['about'],\n  //   });\n  //   this.setState({\n  //     address: this.state.customerdetails[0]['address'],\n  //   });\n  //   this.setState({\n  //     phone: this.state.customerdetails[0]['phone'],\n  //   });\n  //   this.setState({\n  //     email: this.state.customerdetails[0]['email'],\n  //   });\n  //   this.setState({\n  //     city: this.state.customerdetails[0]['city'],\n  //   });\n  //   this.setState({\n  //     dob: this.state.customerdetails[0]['dob'],\n  //   });\n  //   this.setState({\n  //     state: this.state.customerdetails[0]['state'],\n  //   });\n  //   this.setState({\n  //     country: this.state.customerdetails[0]['country'],\n  //   });\n  // });\n\n\n  render() {\n    let username = \"\";\n    let customerdetails = [];\n    const imgLink = `${backendServer}${localStorage.getItem(\"profilepic\")}`;\n    console.log(imgLink);\n    username = this.props.profile.username;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }\n    }, \"Welcome \", this.state.customerdetails.username)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: imgLink,\n      alt: \"No image added. Add Image.\",\n      style: {\n        maxHeight: '180px',\n        maxWidth: '180px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }\n    }, \"About : \", this.state.customerdetails.about)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    }, \"Call Me : \", this.state.customerdetails.nickname)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }, \"Email: \", this.state.customerdetails.email)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }\n    }, \" Phone: \", this.state.customerdetails.phone)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, \"  DoB: \", this.state.customerdetails.dob)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, \" Apt and Street No: \", this.state.customerdetails.address)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, \" City: \", this.state.customerdetails.city)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    }, \" State: \", this.state.customerdetails.state)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, \" Country: \", this.state.customerdetails.country)), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        this.handleSubmit(this.state.customerdetails);\n      } // onClick = {this.handleSubmit} \n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }\n    }, \"Update Profile\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.goback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }\n    }, \"Cancel\"))));\n  }\n\n}\n\nCustomerProfile.propTypes = {\n  userProfile: PropTypes.func.isRequired,\n  profile: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => {\n  return {\n    profile: state.profile.profile\n  };\n};\n\nexport default connect(mapStateToProps, {\n  userProfile\n})(CustomerProfile);","map":{"version":3,"sources":["/Users/anaghasethuraman/Desktop/CMPE273-UberEats-Lab3/Frontend/src/components/Profile/CustomerProfile.js"],"names":["React","Component","Button","backendServer","PropTypes","connect","userProfile","CustomerProfile","constructor","props","handleSubmit","customerObj","localStorage","setItem","JSON","stringify","history","push","findFood","e","preventDefault","window","location","href","handleChange","setState","target","name","value","goback","saveFile","file","files","fileName","state","customerdetails","bind","componentDidMount","customerid","userid","getItem","componentWillReceiveProps","nextProps","profile","userData","_id","username","email","about","phone","city","address","country","nickname","dob","profilepic","render","imgLink","console","log","maxHeight","maxWidth","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["\nimport React, {Component} from 'react';\nimport { Button } from 'reactstrap';\nimport backendServer from \"../../webConfig\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { userProfile} from \"../../actions/profileActions\";\nclass CustomerProfile extends Component {\n    \n    constructor(props){\n        super(props);\n          this.state = {\n            customerdetails:[]\n          }\n        // this.state = {\n        //   userid: localStorage.getItem(\"userid\"),\n        //   username: localStorage.getItem(\"username\"),\n        //   email:localStorage.getItem(\"email\"),\n        //   phone: localStorage.getItem(\"phone\"),\n        //   dob:localStorage.getItem(\"dob\"),\n        //   address:localStorage.getItem(\"address\"),\n        //   state:localStorage.getItem(\"state\"),\n        //   city:localStorage.getItem(\"city\"),\n        //   country:localStorage.getItem(\"country\"),\n        //   nickname:localStorage.getItem(\"nickname\"),\n        //   about:localStorage.getItem(\"about\"),\n        //   profilepic:localStorage.getItem(\"profilepic\"),\n        //   favourites:null,\n        //   loading: false,\n        //   output: null,\n        //   customerdetails:[]\n        // }\n        this.handleChange = this.handleChange.bind(this);\n      }\n      componentDidMount() {\n        const customerid = {\n          userid: localStorage.getItem(\"userid\")\n        };\n        this.props.userProfile(customerid);\n        \n      }\n\n      componentWillReceiveProps(nextProps) {\n        if (nextProps.profile) {\n            var { profile } = nextProps;\n          \n            var userData = {\n                userid: profile._id || this.state.userid,\n                username: profile.username || this.state.username,\n                email: profile.email || this.state.email,\n                about:profile.about|| this.state.about,\n                phone:profile.phone|| this.state.phone,\n                city:profile.city|| this.state.city,\n                address:profile.address|| this.state.address,\n                state:profile.state|| this.state.state,\n                country:profile.country|| this.state.country,\n                nickname:profile.nickname|| this.state.nickname,\n                dob:profile.dob||this.state.dob,\n                profilepic:profile.profilepic||this.state.profilepic\n\n            };\n\n            this.setState({customerdetails:userData});\n            localStorage.setItem(\"city\",profile.city)\n            localStorage.setItem(\"profilepic\",profile.profilepic)\n        }\n    }\n    \n      // componentWillReceiveProps(nextProps){\n      //     if(nextProps.user){\n      //       var { user } = nextProps;\n      //       console.log(user);\n      //     }\n      // }\n\n        // axios.post(`${backendServer}/getcustomerprofile`,customerid).then((response) => {\n        //   console.log(response.data);\n        //   //update the state with the response data\n        //   this.setState({\n        //     customerdetails: this.state.customerdetails.concat(response.data),\n        //   });\n        //   console.log(this.customerdetails)\n        //   this.setState({\n        //     username: this.state.customerdetails[0]['username'],\n        //   });\n        //   this.setState({\n        //     nickname: this.state.customerdetails[0]['nickname'],\n        //   });\n        //   this.setState({\n        //     about: this.state.customerdetails[0]['about'],\n        //   });\n        //   this.setState({\n        //     address: this.state.customerdetails[0]['address'],\n        //   });\n        //   this.setState({\n        //     phone: this.state.customerdetails[0]['phone'],\n        //   });\n        //   this.setState({\n        //     email: this.state.customerdetails[0]['email'],\n        //   });\n        //   this.setState({\n        //     city: this.state.customerdetails[0]['city'],\n        //   });\n        //   this.setState({\n        //     dob: this.state.customerdetails[0]['dob'],\n        //   });\n        //   this.setState({\n        //     state: this.state.customerdetails[0]['state'],\n        //   });\n        //   this.setState({\n        //     country: this.state.customerdetails[0]['country'],\n        //   });\n         \n        // });\n      \n     \n      handleSubmit = (customerObj) => {\n        localStorage.setItem(\"CustomerDetails\",JSON.stringify(customerObj));\n        const {history} = this.props;\n        history.push('/customereditprofile'); \n      }\n      findFood = (e) => {\n        e.preventDefault();\n        window.location.href='/RestDashboard';\n      }\n      handleChange = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n        }\n        goback = (e) =>{\n            e.preventDefault();\n            const {history} = this.props;\n            history.push('/customerhome'); \n          }\n        \n          saveFile = (e) => {\n            e.preventDefault();\n            this.setState({file:e.target.files[0]});\n            this.setState({fileName:e.target.files[0].name});\n            \n          };\n        \n         \n       \n          \n    render(){\n     let username = \"\";\n     let customerdetails = []\n      const imgLink = `${backendServer}${localStorage.getItem(\"profilepic\")}`;\n      console.log(imgLink)\n      username = this.props.profile.username;\n    return (\n\n\n      <div className=\"container\">\n      <div className=\"login-form\">\n        <div className=\"main-div\">\n          <div className=\"panel\">\n          <h1>Welcome {this.state.customerdetails.username}</h1>\n          </div>\n          <div className=\"form-group\">\n\n          <img src={imgLink} alt=\"No image added. Add Image.\" style={{ maxHeight: '180px', maxWidth: '180px' }} />\n          \n          </div>\n          <div className=\"form-group\">\n          <h4>About : {this.state.customerdetails.about}</h4>\n          </div>\n          <div className=\"form-group\">\n          <h4>Call Me : {this.state.customerdetails.nickname}</h4>\n          </div>\n          <div className=\"form-group\">\n          <h4>Email: {this.state.customerdetails.email}</h4>\n          </div>\n          <div className=\"form-group\">\n            <h4> Phone: {this.state.customerdetails.phone}</h4>\n          \n          </div>\n          <div className=\"form-group\">\n            <h4>  DoB: {this.state.customerdetails.dob}</h4>\n          \n          </div>\n          <div className=\"form-group\">\n            <h4> Apt and Street No: {this.state.customerdetails.address}</h4>\n          \n          </div>\n          <div className=\"form-group\">\n            <h4> City: {this.state.customerdetails.city}</h4>\n          \n          </div>\n          <div className=\"form-group\">\n            <h4> State: {this.state.customerdetails.state}</h4>\n          \n          </div>\n          <div className=\"form-group\">\n            <h4> Country: {this.state.customerdetails.country}</h4>\n          \n          </div>\n         \n          <Button \n          onClick={() => {\n            this.handleSubmit(this.state.customerdetails);\n            }}\n          // onClick = {this.handleSubmit} \n          >Update Profile</Button>\n\n          <Button onClick = {this.goback}>Cancel</Button>\n        </div>\n      </div>\n    </div>\n       \n    )\n    }\n   \n}\n \nCustomerProfile.propTypes = {\n  userProfile: PropTypes.func.isRequired,\n  profile: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.profile.profile,\n  };\n};\n\nexport default connect(mapStateToProps, {userProfile})(CustomerProfile);"]},"metadata":{},"sourceType":"module"}